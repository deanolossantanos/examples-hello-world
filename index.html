<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <title>Shoelace URL Viewer</title>

    <!-- Shoelace light theme -->
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/@shoelace-style/shoelace@latest/dist/themes/light.css"
    />

    <!-- Shoelace core bundle -->
    <script
      type="module"
      src="https://cdn.jsdelivr.net/npm/@shoelace-style/shoelace@latest/dist/shoelace.js"
    ></script>

    <style>
      html,
      body {
        height: 100%;
        margin: 0;
      }

      body {
        font-family: system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI",
          sans-serif;
      }

      .app-shell {
        height: 100vh;
        display: flex;
        flex-direction: column;
      }

      .app-header {
        padding: 0.75rem 1rem;
        border-bottom: 1px solid var(--sl-color-neutral-200);
        display: flex;
        align-items: center;
        gap: 0.5rem;
      }

      .app-main {
        flex: 1;
        min-height: 0;
      }

      .url-list {
        height: 100%;
        overflow-y: auto;
        padding: 0.5rem;
      }

      .viewer-frame {
        width: 100%;
        height: 100%;
        border: none;
        border-radius: var(--sl-border-radius-large);
      }
    </style>
  </head>
  <body>
    <div class="app-shell">
      <header class="app-header">
        <sl-icon name="link-45deg"></sl-icon>
        <sl-heading size="medium">Shoelace URL Viewer</sl-heading>
      </header>

      <main class="app-main">
        <!-- Split panel: left list, right viewer -->
        <sl-split-panel position="25%">
          <!-- Left: scrollable list of URLs -->
          <div slot="start" class="url-list">
            <sl-card>
              <sl-heading size="small" slot="header">Links</sl-heading>
              <sl-menu id="url-menu">
                <sl-menu-item value="https://deno.land">
                  Deno
                </sl-menu-item>
                <sl-menu-item value="https://deno.com/deploy">
                  Deno Deploy
                </sl-menu-item>
                <sl-menu-item value="https://shoelace.style">
                  Shoelace
                </sl-menu-item>
                <sl-menu-item value="https://example.com">
                  Example.com
                </sl-menu-item>
              </sl-menu>
            </sl-card>
          </div>

          <!-- Right: window showing selected URL -->
          <div slot="end" style="padding: 0.75rem; height: 100%;">
            <sl-card style="height: 100%; display: flex; flex-direction: column;">
              <sl-heading size="small" slot="header" id="viewer-title">
                Select a link
              </sl-heading>
              <div style="flex: 1; min-height: 0;">
                <iframe
                  id="viewer-frame"
                  class="viewer-frame"
                  src="about:blank"
                  title="URL viewer"
                ></iframe>
              </div>
            </sl-card>
          </div>
        </sl-split-panel>
      </main>
    </div>

    <script type="module">
      const menu = document.getElementById("url-menu");
      const frame = document.getElementById("viewer-frame");
      const title = document.getElementById("viewer-title");

      menu.addEventListener("sl-select", (event) => {
        const item = event.detail.item;
        const url = item.value;
        frame.src = url;
        title.textContent = url;
      });
    </script>
  </body>
</html>
